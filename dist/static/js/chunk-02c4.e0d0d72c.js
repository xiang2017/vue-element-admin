(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-02c4"],{"22oc":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return s});var a=n("t3Un");function o(e){return Object(a.a)({url:"/knowledge",method:"get",params:e})}function i(e){return Object(a.a)({url:"/knowledge",method:"post",data:e})}function s(e){return Object(a.a)({url:"/knowledge/"+e,method:"get"})}},"2PCe":function(e,t,n){"use strict";n.r(t);var a=n("glbJ"),o=n("Ksg7"),i=n("2sif"),s=n("22oc"),l={name:"ChooseKnowledge",props:["value"],data:function(){return{show_knowledge_list:!1,knowledge:[],params:{page:0}}},methods:{choose:function(e){for(var t=0;t<this.value.length;t++)if(this.value[t].id==e.id)return void this.$message.warning("已被选过");this.value.push(e),this.$emit("input",this.value),this.show_knowledge_list=!1},removeKnowledge:function(e){var t=this.value.concat();t.splice(e,1),this.$emit("input",t)},getPageData:function(e){var t=this;this.params.page=e,Object(s.a)(this.params).then(function(e){t.knowledge=e.data.data,t.count=e.data.count}).catch(function(e){e.response&&(e=e.response.data),t.$message.error(e)})}},mounted:function(){this.getPageData(0)}},u=(n("iLnP"),n("KHd+")),r=Object(u.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"knowledge-container"},[n("div",{staticClass:"knowledge-choosed"},e._l(e.value,function(t,a){return n("span",{key:a,staticClass:"knowledge-item"},[e._v("\n      "+e._s(t.name)+"（"+e._s(t.id)+"）\n      "),n("i",{on:{click:function(t){e.removeKnowledge(a)}}},[n("svg-icon",{attrs:{"icon-class":"remove"}})],1)])})),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.show_knowledge_list=!0}}},[e._v("选 择")]),e._v(" "),n("el-dialog",{attrs:{visible:e.show_knowledge_list,title:"选择知识点"},on:{"update:visible":function(t){e.show_knowledge_list=t}}},[n("el-table",{staticStyle:{width:"100%","margin-top":"10px"},attrs:{data:e.knowledge,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"ID"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"Name"}}),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(n){e.choose(t.row)}}},[e._v("选择")])]}}])})],1)],1)],1)},[],!1,null,"71d9acc2",null);r.options.__file="ChooseKnowledge.vue";var c=r.exports,p={name:"QuestionEdit",components:{Tinymce:a.a,EditLable:i.a,ChooseKnowledge:c},props:["id"],data:function(){return{question:{id:0,question_type:"1",name:"",bg_name:"",content:"",options:[{option_type:"1",content:""},{option_type:"1",content:""}],answer:"",answer_explain:"",question_difficulty:"3",labels:[],knowledge:[]}}},methods:{addOption:function(){this.question.options.push({option_type:"1",content:""})},removeOption:function(e){this.question.options.splice(e,1)},save:function(){var e=this;Object(o.d)(this.question).then(function(t){e.$message.success("保存成功"),e.question.id=t.data.id}).catch(function(t){t.response&&(t=t.response.data),e.$message.error(t)})},getQuestionInfo:function(e){var t=this;Object(o.c)({id:e}).then(function(e){t.question=e.data}).catch(function(e){e.response&&(e=e.response.data),t.$message.error(e)})}},mounted:function(){void 0!=this.id&&this.getQuestionInfo(this.id)}},d=(n("jRvS"),Object(u.a)(p,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{staticStyle:{width:"800px"},attrs:{model:e.question,"label-width":"120px"}},[n("h3",[e._v("基本信息")]),e._v(" "),n("el-form-item",{attrs:{label:"题目名："}},[n("el-input",{model:{value:e.question.name,callback:function(t){e.$set(e.question,"name",t)},expression:"question.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"后台显示名："}},[n("el-input",{model:{value:e.question.bg_name,callback:function(t){e.$set(e.question,"bg_name",t)},expression:"question.bg_name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"问题难度："}},[n("el-select",{attrs:{placeholder:"选择问题难度"},model:{value:e.question.question_difficulty,callback:function(t){e.$set(e.question,"question_difficulty",t)},expression:"question.question_difficulty"}},[n("el-option",{attrs:{label:"1",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"2",value:"2"}}),e._v(" "),n("el-option",{attrs:{label:"3",value:"3"}}),e._v(" "),n("el-option",{attrs:{label:"4",value:"4"}}),e._v(" "),n("el-option",{attrs:{label:"5",value:"5"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:"问题内容："}},[n("tinymce",{model:{value:e.question.content,callback:function(t){e.$set(e.question,"content",t)},expression:"question.content"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"问题类型："}},[n("el-select",{attrs:{placeholder:"选择问题类型"},model:{value:e.question.question_type,callback:function(t){e.$set(e.question,"question_type",t)},expression:"question.question_type"}},[n("el-option",{attrs:{label:"选择题",value:"1"}}),e._v(" "),n("el-option",{attrs:{label:"填空题",value:"2"}})],1)],1),e._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==e.question.question_type,expression:"question.question_type == 1"}],attrs:{label:"选项："}},[e._l(e.question.options,function(t,a){return n("div",{key:a,staticStyle:{"margin-bottom":"5px"}},[n("el-radio",{staticStyle:{display:"inline-block"},attrs:{label:a,name:"quesion_answer"},model:{value:e.question.answer,callback:function(t){e.$set(e.question,"answer",t)},expression:"question.answer"}},[e._v("选我 ")]),e._v(" "),n("el-input",{directives:[{name:"show",rawName:"v-show",value:1==t.option_type,expression:"option.option_type == 1"}],staticStyle:{width:"500px",display:"inline-block"},model:{value:t.content,callback:function(n){e.$set(t,"content",n)},expression:"option.content"}}),e._v(" "),n("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(t){e.removeOption(a)}}},[e._v("删除")])],1)}),e._v(" "),n("div",[n("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.addOption}},[e._v("添加选项")])],1)],2),e._v(" "),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2==e.question.question_type,expression:"question.question_type == 2"}],attrs:{label:"正确答案："}},[n("el-input",{model:{value:e.question.answer,callback:function(t){e.$set(e.question,"answer",t)},expression:"question.answer"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"问题解析："}},[n("el-input",{attrs:{type:"textarea",rows:"2",placeholder:"输入问题解析"},model:{value:e.question.answer_explain,callback:function(t){e.$set(e.question,"answer_explain",t)},expression:"question.answer_explain"}})],1),e._v(" "),n("h3",[e._v("标签信息")]),e._v(" "),n("el-form-item",{attrs:{label:"选择标签："}},[n("edit-lable",{model:{value:e.question.labels,callback:function(t){e.$set(e.question,"labels",t)},expression:"question.labels"}})],1),e._v(" "),n("h3",[e._v("关联知识点")]),e._v(" "),n("el-form-item",{attrs:{label:"关联知识点："}},[n("choose-knowledge",{model:{value:e.question.knowledge,callback:function(t){e.$set(e.question,"knowledge",t)},expression:"question.knowledge"}})],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.save}},[e._v("保 存")])],1)],1)],1)},[],!1,null,null,null));d.options.__file="question_edit.vue";t.default=d.exports},"2b03":function(e,t,n){},"2sif":function(e,t,n){"use strict";var a=n("NM0R"),o={name:"EditLabel",props:["value"],data:function(){return{input_label:"",labels:[],params:{page:0,count_per_page:50},all_load:!1}},methods:{removeIcon:function(e){var t=this.value.concat();t.splice(e,1),this.$emit("input",t)},addLabelFromOld:function(e){this.input_label=e,this.addLabel()},addLabel:function(){if(""!=this.input_label){for(var e=0;e<this.value.length;e++)if(this.value[e]==this.input_label)return;this.value.push(this.input_label),this.input_label="",this.$emit("input",this.value)}},getLabel:function(){var e=this;Object(a.a)(this.params).then(function(t){t.data.forEach(function(t){e.labels.push(t)}),e.params.page++,t.data.length<e.params.count_per_page&&(e.all_load=!0)}).catch(function(t){e.$message.error(t)})}},mounted:function(){this.getLabel()}},i=(n("aF6A"),n("KHd+")),s=Object(i.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"label-container"},[n("div",{staticClass:"label-panel"},[e._l(e.value,function(t,a){return n("span",{key:a,staticClass:"span-label"},[e._v("\n      "+e._s(t)+"\n      "),n("i",{on:{click:function(t){e.removeIcon(a)}}},[n("svg-icon",{attrs:{"icon-class":"remove"}})],1)])}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input_label,expression:"input_label"}],staticClass:"label-input",attrs:{placeholder:"输入标签并回车"},domProps:{value:e.input_label},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addLabel(t):null},input:function(t){t.target.composing||(e.input_label=t.target.value)}}})],2),e._v(" "),n("div",{staticClass:"label-list"},[n("h5",{staticStyle:{margin:"0"}},[e._v("可选标签")]),e._v(" "),e._l(e.labels,function(t,a){return n("span",{key:a,staticClass:"span-label",on:{click:function(n){e.addLabelFromOld(t.name)}}},[e._v(e._s(t.name))])})],2)])},[],!1,null,null,null);s.options.__file="EditLabel.vue";t.a=s.exports},Ksg7:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l});var a=n("t3Un");function o(e){return Object(a.a)({url:"/questions",method:"get",params:e})}function i(e){return Object(a.a)({url:"/question",method:"post",data:e})}function s(e){return Object(a.a)({url:"/question",method:"get",params:e})}function l(e){return Object(a.a)({url:"/question/"+e,method:"delete"})}},NM0R:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var a=n("t3Un");function o(e){return Object(a.a)({url:"/labels",method:"get",params:e})}function i(e){return Object(a.a)({url:"/label",method:"post",data:e})}},UXLo:function(e,t,n){},YYjt:function(e,t,n){},aF6A:function(e,t,n){"use strict";var a=n("YYjt");n.n(a).a},iLnP:function(e,t,n){"use strict";var a=n("2b03");n.n(a).a},jRvS:function(e,t,n){"use strict";var a=n("UXLo");n.n(a).a}}]);
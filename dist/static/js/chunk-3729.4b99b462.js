(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3729"],{"22oc":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return o});var a=n("t3Un");function l(e){return Object(a.a)({url:"/knowledge",method:"get",params:e})}function i(e){return Object(a.a)({url:"/knowledge",method:"post",data:e})}function o(e){return Object(a.a)({url:"/knowledge/"+e,method:"get"})}},"2sif":function(e,t,n){"use strict";var a=n("NM0R"),l={name:"EditLabel",props:["value"],data:function(){return{input_label:"",labels:[],params:{page:0,count_per_page:50},all_load:!1}},methods:{removeIcon:function(e){var t=this.value.concat();t.splice(e,1),this.$emit("input",t)},addLabelFromOld:function(e){this.input_label=e,this.addLabel()},addLabel:function(){if(""!=this.input_label){for(var e=0;e<this.value.length;e++)if(this.value[e]==this.input_label)return;this.value.push(this.input_label),this.input_label="",this.$emit("input",this.value)}},getLabel:function(){var e=this;Object(a.a)(this.params).then(function(t){t.data.forEach(function(t){e.labels.push(t)}),e.params.page++,t.data.length<e.params.count_per_page&&(e.all_load=!0)}).catch(function(t){e.$message.error(t)})}},mounted:function(){this.getLabel()}},i=(n("aF6A"),n("KHd+")),o=Object(i.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"label-container"},[n("div",{staticClass:"label-panel"},[e._l(e.value,function(t,a){return n("span",{key:a,staticClass:"span-label"},[e._v("\n      "+e._s(t)+"\n      "),n("i",{on:{click:function(t){e.removeIcon(a)}}},[n("svg-icon",{attrs:{"icon-class":"remove"}})],1)])}),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.input_label,expression:"input_label"}],staticClass:"label-input",attrs:{placeholder:"输入标签并回车"},domProps:{value:e.input_label},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.addLabel(t):null},input:function(t){t.target.composing||(e.input_label=t.target.value)}}})],2),e._v(" "),n("div",{staticClass:"label-list"},[n("h5",{staticStyle:{margin:"0"}},[e._v("可选标签")]),e._v(" "),e._l(e.labels,function(t,a){return n("span",{key:a,staticClass:"span-label",on:{click:function(n){e.addLabelFromOld(t.name)}}},[e._v(e._s(t.name))])})],2)])},[],!1,null,null,null);o.options.__file="EditLabel.vue";t.a=o.exports},"4UOn":function(e,t,n){"use strict";var a=n("qrNq");n.n(a).a},NM0R:function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return i});var a=n("t3Un");function l(e){return Object(a.a)({url:"/labels",method:"get",params:e})}function i(e){return Object(a.a)({url:"/label",method:"post",data:e})}},YYjt:function(e,t,n){},aF6A:function(e,t,n){"use strict";var a=n("YYjt");n.n(a).a},qrNq:function(e,t,n){},zges:function(e,t,n){"use strict";n.r(t);var a=n("glbJ"),l=n("2sif"),i=n("22oc"),o={name:"KnowledgeEdit",components:{Tinymce:a.a,EditLable:l.a},props:["id"],data:function(){return{knowledge:{id:0,name:"",content:"",labels:[]}}},methods:{save:function(){var e=this;Object(i.c)(this.knowledge).then(function(t){e.$message.success("保存成功"),e.knowledge.id=t.data.id}).catch(function(t){t.response&&(t=t.response.data),e.$message.error(t)})},getKnowledge:function(e){var t=this;Object(i.b)(e).then(function(e){t.knowledge=e.data}).catch(function(e){t.$message.error(e.response.data)})}},mounted:function(){void 0!=this.id&&this.getKnowledge(this.id)}},s=(n("4UOn"),n("KHd+")),r=Object(s.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("el-form",{staticStyle:{width:"800px"},attrs:{model:e.knowledge,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"名称："}},[n("el-input",{model:{value:e.knowledge.name,callback:function(t){e.$set(e.knowledge,"name",t)},expression:"knowledge.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"内容："}},[n("tinymce",{model:{value:e.knowledge.content,callback:function(t){e.$set(e.knowledge,"content",t)},expression:"knowledge.content"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"标签"}},[n("edit-lable",{model:{value:e.knowledge.labels,callback:function(t){e.$set(e.knowledge,"labels",t)},expression:"knowledge.labels"}})],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保 存")])],1)],1)],1)},[],!1,null,null,null);r.options.__file="knowledge_edit.vue";t.default=r.exports}}]);